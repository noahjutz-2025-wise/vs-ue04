# Direct Messages Server

## Protocol

### Request

- TYPE
  - 00 Register
  - 01 Send
  - 10 Get
- REQID: Generated by client
- LENGTH: 0-255
- Double LENGTH: 0-65535

Register frame

```
+--------+--------+--------+--------+--------+
|TYPE    |REQID   |LENGTH  |USER...          |
+--------+--------+--------+--------+--------+
```

Send frame

```
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
|TYPE    |REQID   |LENGTH  |USER...          |LENGTH  |RECIP...         |LENGTH           |MSG...           |
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
```

Get frame

```
+--------+--------+--------+--------+--------+
|TYPE    |REQID   |LENGTH  |USER...          |
+--------+--------+--------+--------+--------+
```

### Response

- STATUS
  - 00 OK
  - 01 Request malformed
  - 11 Internal error

Register frame

```
+--------+--------+
|REQID   |STATUS  |
+--------+--------+
```

Send frame

```
+--------+--------+
|REQID   |STATUS  |
+--------+--------+
```

Get frame

```
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
|REQID   |STATUS  |LENGTH  |SENDER...        |LENGTH  |RECIP...         |LENGTH           |MSG...           |
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
```

Illegal request frame

```
+--------+--------+
|REQID   |STATUS  |
+--------+--------+
```
