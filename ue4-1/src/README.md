# Direct Messages Server

## Protocol

### Request

- Request Type
  - 00 Register
  - 01 Send
  - 10 Get
  - 11 Not a type

Register frame

- LENGTH: 0-255
- Double LENGTH: 0-65535

```
+--------+--------+--------+--------+
|00      |LENGTH  |USER...          |
+--------+--------+--------+--------+
```

Send frame

```
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
|01      |LENGTH  |USER...          |LENGTH  |RECIP...         |LENGTH           |MSG...           |
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
```

Get frame

```
+--------+--------+--------+--------+
|10      |LENGTH  |USER...          |
+--------+--------+--------+--------+
```

### Response

- Status codes (ST)
  - 00 OK
  - 01 Request malformed
  - 11 Internal error

Register frame

```
+--------+
|ST00    |
+--------+
```

Send frame

```
+--------+
|ST01    |
+--------+
```

Get frame

```
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
|ST10    |LENGTH  |SENDER...        |LENGTH  |RECIP...         |LENGTH           |MSG...           |
+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
```

Illegal request frame

```
+--------+
|ST11    |
+--------+
```
